<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPS Game</title>
    <script src="https://kit.fontawesome.com/b98523537f.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhai+2&display=swap" rel="stylesheet">
</head>

<body>
    <h1>
        <marquee>Stone Paper Scissors Game</marquee>
    </h1>
    <center>

        <h2> Win three rounds to be the victor</h2>
        <h3>
            Player <span id="p-score">0</span> - <span id="c-score">0</span> Computer
        </h3>

        <div class="main_div">
            <div class="sub_div">
                <i class="fa-solid fa-hand-back-fist icons"></i>
                <button class="options btn">Rock</button>
            </div>
            <div class="sub_div">
                <i class="fa-solid fa-hand icons"></i>
                <button class="options btn">Paper</button>
            </div>
            <div class="sub_div">
                <i class="fa-solid fa-hand-scissors icons"></i>
                <button class="options btn">Scissors</button>
            </div>
        </div>


    </center>
    <script>
        const options = document.querySelectorAll(".options");
        let pScore = 0;
        let cScore = 0;

        options.forEach((option) => {
            option.addEventListener("click", function () {
                const pInput = this.textContent;

                const cOptions = ["Rock", "Paper", "Scissors"];
                const cInput = cOptions[Math.floor(Math.random() * 3)];

                compareInputs(pInput, cInput);
                updateScore();
                if (checkWinner()) {
                    pScore = cScore = 0;
                    updateScore();
                }
            });
        });

        function compareInputs(pInput, cInput) {
            const currentMatch = `${pInput} vs ${cInput}`;
            if (pInput === cInput) {
                alert(`${currentMatch} is a Tie`);
                return;
            }

            if (pInput === "Rock") {
                if (cInput === "Scissors") {
                    alert(`${currentMatch} = You Win`);
                    pScore++;
                } else {
                    alert(`${currentMatch} = Computer Wins`);
                    cScore++;
                }
            }
            //Check for Paper
            else if (pInput === "Paper") {
                if (cInput === "Rock") {
                    alert(`${currentMatch} = You Win`);
                    pScore++;
                } else {
                    alert(`${currentMatch} = Computer Wins`);
                    cScore++;
                }
            }
            //Check for Scissors
            else {
                if (cInput === "Paper") {
                    alert(`${currentMatch} = You Win`);
                    pScore++;
                } else {
                    alert(`${currentMatch} = Computer Wins`);
                    cScore++;
                }
            }
        }

        function updateScore() {
            document.getElementById("p-score").textContent = pScore;
            document.getElementById("c-score").textContent = cScore;
        }

        function checkWinner() {
            if (pScore === 3 || cScore === 3) {
                const winner =
                    pScore === 3
                        ? "You win the game! Congratulations!"
                        : "Computer wins the game! Try again next time!";
                alert(winner);
                return true;
            }
            return false;
        }
    </script>
</body>

</html>